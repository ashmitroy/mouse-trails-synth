<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mouse Trails Synth</title>
  <style>
    html,body{margin:0;height:100%;background:#0f1117;color:#eaeefb;font-family:system-ui}
    .hint{
      position:fixed;left:12px;top:10px;font-size:14px;line-height:1.3;
      color:#eaeefb;opacity:.85;background:rgba(0,0,0,.25);
      padding:6px 8px;border-radius:8px;pointer-events:none;z-index:2;
    }
    /* start overlay for mobile/iOS camera permission */
    #startOverlay{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
      background:rgba(0,0,0,.7);z-index:3;
    }
    #startOverlay.hidden{display:none;}
    #startBtn{
      padding:10px 16px;border-radius:10px;border:1px solid #334155;
      background:#7aa2ff;color:#0b1020;font-weight:700;cursor:pointer;
    }
    /* hide the HTML video; we just read frames for ML */
    #video{ position:fixed; right:12px; bottom:12px; width:160px; height:auto; opacity:.15; display:none; }
  </style>

 <!-- p5 first -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.3/p5.min.js"></script>

<!-- ml5: use unpkg (more reliable); add a cache-buster -->
<script src="https://unpkg.com/ml5@0.12.2/dist/ml5.min.js?v=2"></script>

<!-- your sketch last -->
<script src="sketch.js?v=2" defer></script>

</head>
<body>
  <div class="hint">
    Show your hand to the webcam • Index finger controls trails<br/>
    Click = pulse • Keys 1/2/3 = color modes
  </div>

  <!-- Start overlay (helps iOS/Chrome permission) -->
  <div id="startOverlay">
    <button id="startBtn">Start (enable camera)</button>
  </div>

  <!-- hidden video element (p5 will create as well; we use this for clarity) -->
  <video id="video" playsinline></video>

  <script src="sketch.js"></script>
</body>
</html>
